{"version":3,"file":"js/789.2d04b5cc.js","mappings":"qMAgDOA,MAAM,c,GACJC,GAAG,W,GACDA,GAAG,Q,GAyBDA,GAAG,U,0EA3BdC,EAAAA,EAAAA,IAkCM,MAlCNC,EAkCM,EAjCJC,EAAAA,EAAAA,IAgCM,MAhCNC,EAgCM,EA/BJD,EAAAA,EAAAA,IA8BM,MA9BNE,EA8BM,cA7BJF,EAAAA,EAAAA,IAA0B,MAAtBH,GAAG,SAAQ,UAAM,KACrBG,EAAAA,EAAAA,IA2BO,0BA1BLA,EAAAA,EAAAA,IAAgD,SAAzCG,IAAI,QAAQP,MAAM,WAAU,SAAK,cACxCI,EAAAA,EAAAA,IAOa,SANXJ,MAAM,QACNQ,KAAK,QACLP,GAAG,QACHQ,KAAK,QACLC,YAAY,kCA3DxB,sBAAAC,EAAA,KAAAA,EAAA,GAAAC,GA4DqBC,EAAAC,MAAKF,GACdG,SAAA,I,iBADSF,EAAAC,SAAK,aAGhBV,EAAAA,EAAAA,IAAsD,SAA/CG,IAAI,WAAWP,MAAM,WAAU,YAAQ,cAC9CI,EAAAA,EAAAA,IAQE,SAPAJ,MAAM,QACNQ,KAAK,WACLP,GAAG,WACHQ,KAAK,WApEjB,sBAAAE,EAAA,KAAAA,EAAA,GAAAC,GAqEqBC,EAAAG,SAAQJ,GACjBF,YAAY,sBACZK,SAAA,I,iBAFSF,EAAAG,aAIXZ,EAAAA,EAAAA,IAAiE,UAAxDa,QAAKN,EAAA,KAAAA,EAAA,OAAAO,IAAEC,EAAAC,OAAAD,EAAAC,SAAAF,IAAOjB,GAAG,SAASD,MAAM,UAAS,WAClDI,EAAAA,EAAAA,IAAoB,UAAAiB,EAAAA,EAAAA,IAAdR,EAAAS,SAAO,IACblB,EAAAA,EAAAA,IAGI,IAHJmB,EAGI,cA9EdC,EAAAA,EAAAA,IA2EyB,sCAEbC,EAAAA,EAAAA,IAAoDC,EAAA,CAAvCC,GAAG,WAAS,CA7ErCC,SAAAC,EAAAA,EAAAA,KA6EsC,IAAYlB,EAAA,KAAAA,EAAA,KA7ElDa,EAAAA,EAAAA,IA6EsC,oBA7EtCM,EAAA,a,aACA,GACEC,IAAAA,GACE,MAAO,CACLjB,MAAO,GACPE,SAAU,GACVM,QAAS,GAEb,EACAU,gBAAAA,CAAiBL,EAAIM,EAAMC,GAErBD,EAAKE,MACPC,aAAaC,QAAQ,eAAgBJ,EAAKE,MAE5CD,GACF,EACAI,QAAS,CACP,WAAMlB,CAAMmB,GACVA,EAAMC,iBACN,MAAMC,QAAiBC,MAAM,uCAAwC,CACnEC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBjC,MAAOkC,KAAKlC,MACZE,SAAUgC,KAAKhC,aAIbe,QAAaU,EAASQ,OAE5B,GAAIR,EAASS,GAAI,CAEfd,aAAaC,QAAQ,QAASN,EAAKoB,OACnCH,KAAK1B,QAAU,mBAEf0B,KAAKI,MAAM,kBACX,MAAMC,EAAwD,MAAzCjB,aAAakB,QAAQ,iBAAoE,UAAzClB,aAAakB,QAAQ,iBAAwE,YAAzClB,aAAakB,QAAQ,gBAAgC,oBAAsBlB,aAAakB,QAAQ,gBAEzNN,KAAKO,QAAQC,KAAKH,EACpB,MACEL,KAAK1B,QAAU,cAEnB,I,UCnCJ,MAAMmC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://hybread/./src/views/LogIn.vue","webpack://hybread/./src/views/LogIn.vue?d787"],"sourcesContent":["<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      email: \"\",\r\n      password: \"\",\r\n      message: \"\",\r\n    };\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    // Stocker l'URL précédente dans localStorage ou un état global\r\n    if (from.path) {\r\n      localStorage.setItem(\"previousPage\", from.path);\r\n    }\r\n    next();\r\n  },\r\n  methods: {\r\n    async login(event) {\r\n      event.preventDefault()\r\n      const response = await fetch(\"http://localhost:3000/api/auth/login\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          email: this.email,\r\n          password: this.password,\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        // Store the JWT token in localStorage\r\n        localStorage.setItem(\"token\", data.token);\r\n        this.message = \"Login successful\";\r\n\r\n        this.$emit(`loggedInUpdate`);\r\n        const previousPage = localStorage.getItem(\"previousPage\") === \"/\" || localStorage.getItem(\"previousPage\") === \"/book\" || localStorage.getItem(\"previousPage\") === \"/signup\" ? \"/homepageloggedin\" : localStorage.getItem(\"previousPage\");\r\n        \r\n        this.$router.push(previousPage);\r\n      } else {\r\n        this.message = \"Login failed\";\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"background\">\r\n    <div id=\"content\">\r\n      <div id=\"form\">\r\n        <h1 id=\"title\">Log In</h1>\r\n        <form>\r\n          <label for=\"email\" class=\"subject\">Email</label>\r\n          <input \r\n            class=\"input\" \r\n            type=\"email\" \r\n            id=\"email\" \r\n            name=\"email\" \r\n            placeholder=\"ex : pineapplelover@hybread.com\"\r\n            v-model=\"email\"\r\n            required />\r\n          \r\n          <label for=\"password\" class=\"subject\">Password</label>\r\n          <input\r\n            class=\"input\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            v-model=\"password\"\r\n            placeholder=\"ex : PiNeApPlE4l!fe\"\r\n            required\r\n          />\r\n          <button @click=\"login\" id=\"submit\" class=\"button\">Log in</button>\r\n          <p>{{ message }}</p>\r\n          <p id=\"signup\">\r\n            You don't have an account yet?\r\n            <router-link to=\"/signIn\">Register now</router-link>\r\n          </p>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.background {\r\n  background-image: url(\"../assets/bg.jpeg\");\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  margin: 0;\r\n  height: 93vh;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n#content {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: auto;\r\n  min-height: 50vh;\r\n  width: 100%;\r\n  padding: 4em 0 2em 0;\r\n  background: rgba(0, 0, 0, 0.3);\r\n\r\n}\r\n\r\n#form {\r\n  height: auto;\r\n  width: 36vw;\r\n  padding: 2.5em;\r\n  margin: 2em 0 2em 0;\r\n  min-height: 40vh;\r\n  background-color: #ffffff;\r\n  border-radius: 25px;\r\n  animation: fadeInTop ease 1s;\r\n}\r\n#title {\r\n  font-size: 1.5em;\r\n  font-weight: 600;\r\n  margin-bottom: 1em;\r\n}\r\n\r\n.subject {\r\n  font-size: 1em;\r\n  margin-bottom: 0.5em;\r\n  display: block;\r\n}\r\n\r\n.input {\r\n  padding: 0.5em;\r\n  margin-bottom: 1em;\r\n  width: 100%;\r\n  border-radius: 5px;\r\n  border: 2px solid black;\r\n  transition: .3s;\r\n}\r\ninput:hover, input:focus {\r\ntransform: scale(1.04);\r\ntransition: .3s;\r\n}\r\n\r\n.button {\r\n  box-sizing: border-box;\r\n  font-weight: 400;\r\n  background-color: #0a859a;\r\n  display: inline-block;\r\n  padding: 0.5em 1em;\r\n  width: 100%;\r\n  text-align: center;\r\n  border-radius: 0.4em;\r\n  color: white;\r\n  transition: 0.3s;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 1em;\r\n}\r\n\r\n.button:hover {\r\n  transform: scale(1.03);\r\n  transition: 0.3s;\r\n}\r\n\r\n#signup {\r\n  margin-top: 1em;\r\n  font-size: 1em;\r\n}\r\n\r\n#signup a {\r\n  color: #0a859a;\r\n  text-decoration: none;\r\n}\r\n\r\n@media (max-width: 1000px) {\r\n  #form {\r\n    width: 50vw;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  #form {\r\n    width: 60vw;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  #form {\r\n    width: 70vw;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./LogIn.vue?vue&type=template&id=eb861e32&scoped=true\"\nimport script from \"./LogIn.vue?vue&type=script&lang=js\"\nexport * from \"./LogIn.vue?vue&type=script&lang=js\"\n\nimport \"./LogIn.vue?vue&type=style&index=0&id=eb861e32&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-eb861e32\"]])\n\nexport default __exports__"],"names":["class","id","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","for","type","name","placeholder","_cache","$event","$data","email","required","password","onClick","args","$options","login","_toDisplayString","message","_hoisted_4","_createTextVNode","_createVNode","_component_router_link","to","default","_withCtx","_","data","beforeRouteEnter","from","next","path","localStorage","setItem","methods","event","preventDefault","response","fetch","method","headers","body","JSON","stringify","this","json","ok","token","$emit","previousPage","getItem","$router","push","__exports__","render"],"sourceRoot":""}