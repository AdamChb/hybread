{"version":3,"file":"js/104.ee57da9b.js","mappings":"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","sources":["webpack://hybread/./src/views/SignIn.vue","webpack://hybread/./src/views/SignIn.vue?093c"],"sourcesContent":["<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      repeat_password: \"\",\r\n    };\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    // Stocker l'URL précédente dans localStorage ou un état global\r\n    if (from.path) {\r\n      localStorage.setItem(\"previousPage\", from.path);\r\n    }\r\n    next();\r\n  },\r\n  methods: {\r\n    async register(event) {\r\n      event.preventDefault()\r\n      const response = await fetch(\"http://localhost:3000/api/auth/register\",  {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          username: this.username,\r\n          email: this.email,\r\n          password: this.password,\r\n        }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        this.message = \"User registered successfully\";\r\n\r\n        const response = await fetch(\"http://localhost:3000/api/auth/login\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({\r\n            email: this.email,\r\n            password: this.password,\r\n          }),\r\n        });\r\n\r\n        const data = await response.json();\r\n\r\n        if (response.ok) {\r\n          // Store the JWT token in localStorage\r\n          localStorage.setItem(\"token\", data.token);\r\n        } else {\r\n          this.message = \"Login failed\";\r\n        }\r\n        \r\n        this.$emit(`loggedInUpdate`);\r\n        const previousPage = localStorage.getItem(\"previousPage\") === \"/\" || localStorage.getItem(\"previousPage\") === \"/login\" ? \"/homepageloggedin\" : localStorage.getItem(\"previousPage\");\r\n        \r\n        this.$router.push(previousPage);\r\n      } else {\r\n        this.message = \"User registration failed\";\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"background\">\r\n  <div id=\"content\">\r\n    <div id=\"form\">\r\n      <h1 id=\"title\">Sign Up</h1>\r\n      <form>\r\n        <label class=\"subject\" for=\"username\">Username</label>\r\n        <input\r\n          class=\"input\"\r\n          type=\"text\"\r\n          id=\"username\"\r\n          name=\"username\"\r\n          v-model=\"username\"\r\n            placeholder=\"ex : pineapplelover\"\r\n          required\r\n        />\r\n\r\n        <label class=\"subject\" for=\"email\">Email</label>\r\n        <input \r\n          class=\"input\" \r\n          type=\"email\" \r\n          id=\"email\" \r\n          name=\"email\" \r\n          placeholder=\"ex : pineapple.lover@hybread.com\" \r\n          v-model=\"email\"\r\n          required \r\n        />\r\n\r\n        <label class=\"subject\" for=\"password\">Password</label>\r\n        <input\r\n          class=\"input\"\r\n          type=\"password\"\r\n          id=\"password\"\r\n          name=\"password\"\r\n          v-model=\"password\"\r\n          placeholder=\"ex : PiNeApPlE4l!fe\"\r\n          required\r\n        />\r\n\r\n        <label class=\"subject\" for=\"repeat-password\">Confirm Password</label>\r\n        <input\r\n          class=\"input\"\r\n          type=\"password\"\r\n          id=\"repeat-password\"\r\n          name=\"repeat-password\"\r\n          v-model=\"repeat_password\"\r\n          placeholder=\"ex : PiNeApPlE4l!fe (again)\" \r\n          required\r\n        />\r\n        <button @click=\"register\" id=\"submit\" class=\"button\">Sign up</button>\r\n        <p>{{ message }}</p>\r\n        <p id=\"login\">You already have an account? <router-link to=\"/logIn\">Log in</router-link></p>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<style scoped>\r\n.background {\r\n  background-image: url(\"../assets/bg.jpeg\");\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  margin: 0;\r\n  height: 93vh;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n#content {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: auto;\r\n  min-height: 50vh;\r\n  width: 100%;\r\n  padding: 4em 0 2em 0;\r\n  background: rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n#form {\r\n  height: auto;\r\n  width: 36vw;\r\n  padding: 2.5em;\r\n  margin: 2em 0 2em 0;\r\n  min-height: 40vh;\r\n  background-color: #ffffff;\r\n  border-radius: 25px;\r\n  animation: fadeInTop ease 1s;\r\n}\r\n#title {\r\n  font-size: 1.5em;\r\n  font-weight: 600;\r\n  margin-bottom: 1em;\r\n}\r\n\r\n.subject {\r\n  font-size: 1em;\r\n  margin-bottom: 0.5em;\r\n  display: block;\r\n}\r\n\r\n.input {\r\n  padding: 0.5em;\r\n  margin-bottom: 1em;\r\n  width: 100%;\r\n  border-radius: 5px;\r\n  border: 2px solid black;\r\n  transition: .3s;\r\n}\r\ninput:hover, input:focus {\r\ntransform: scale(1.03);\r\ntransition: .3s;\r\n}\r\n\r\n\r\n.button {\r\n  box-sizing: border-box;\r\n  font-weight: 400;\r\n  background-color: #0a859a;\r\n  display: inline-block;\r\n  padding: 0.5em 1em;\r\n  width: 100%;\r\n  text-align: center;\r\n  border-radius: 0.4em;\r\n  color: white;\r\n  transition: 0.3s;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 1em;\r\n}\r\n\r\n.button:hover {\r\n  transform: scale(1.04);\r\n  transition: 0.3s;\r\n}\r\n\r\n#login {\r\n  margin-top: 1em;\r\n  font-size: 1em;\r\n}\r\n\r\n#login a {\r\n  color: #0a859a;\r\n  text-decoration: none;\r\n}\r\n\r\n@media (max-width: 1000px) {\r\n  #form {\r\n    width: 50vw;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  #form {\r\n    width: 60vw;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  #form {\r\n    width: 70vw;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./SignIn.vue?vue&type=template&id=4b066208&scoped=true\"\nimport script from \"./SignIn.vue?vue&type=script&lang=js\"\nexport * from \"./SignIn.vue?vue&type=script&lang=js\"\n\nimport \"./SignIn.vue?vue&type=style&index=0&id=4b066208&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4b066208\"]])\n\nexport default __exports__"],"names":["class","id","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","for","type","name","_cache","$event","$data","username","placeholder","required","email","password","repeat_password","onClick","args","$options","register","_toDisplayString","_ctx","message","_hoisted_4","_createTextVNode","_createVNode","_component_router_link","to","default","_withCtx","_","data","beforeRouteEnter","from","next","path","localStorage","setItem","methods","event","preventDefault","response","fetch","method","headers","body","JSON","stringify","this","ok","json","token","$emit","previousPage","getItem","$router","push","__exports__","render"],"sourceRoot":""}